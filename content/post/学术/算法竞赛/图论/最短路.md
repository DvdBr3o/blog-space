---
tags:
  - algorithm
  - å›¾è®º
title: æœ€çŸ­è·¯
date: 2024-11-29T16:16:01+08:00
lastmod: 2024-12-05T19:59:39+08:00
publish: true
---

## Floyd

æ ¸å¿ƒé€»è¾‘ï¼š

```cpp
for (auto k = 1; k <= n; ++k)
	for (auto x = 1; x <= n; ++x)
		for (auto y = 1; y <= n; ++y)
			f[x][y] = std::min(f[x][y], f[x][k] + f[k][y]);
```

æ—¶é—´å¤æ‚åº¦ $O(n^3)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(n^2)$

## Bellman-Ford


## Dijkstra

è¢«è¯æ˜æ™®éæœ€ä¼˜äº† :)
### ç”¨é€”

æ±‚è§£Â **éè´Ÿæƒå›¾**Â ä¸Š**å•æºæœ€çŸ­è·¯å¾„**

### å®ç°

å°†æ‰€æœ‰ç‚¹åˆ†ä¸º å·²ç»ç¡®å®šæœ€çŸ­è·¯ç‚¹é›† $S$ (`vis[u] = true`) å’Œ æœªç¡®å®šæœ€çŸ­è·¯ç‚¹é›† $T$ (`vis[u] = false]`)ã€‚

åˆå§‹åŒ–æºç‚¹ $s$ æœ‰ $dis(s) = 0$ï¼Œå…¶ä»– $dis(u) = +\infty$ 

ç„¶åé‡å¤æ“ä½œï¼š
1. ä» $T$ å–æœ€çŸ­è·¯é•¿åº¦æœ€å°çš„ç‚¹ï¼Œç§»åˆ° $S$
2. å¯¹åˆšåˆšè¢«åŠ è¿› $S$ çš„ç‚¹æ‰€æœ‰å‡ºè¾¹è¿›è¡Œæ¾å¼›

$T$ ä¸ºç©ºæ—¶ç»“æŸã€‚

#### æš´åŠ›

```cpp
// TODO:
```
#### ä¼˜å…ˆé˜Ÿåˆ—ä¼˜åŒ–

```cpp
template<typename T = unsigned long long>
struct DijkstraGraph {
	struct Node {
		size_t u;
		T dis;

		friend auto operator<(const Node& lhs, const Node& rhs) -> bool {
			return lhs.dis < rhs.dis;
		}
	};
	
	struct Edge {
		size_t to;
		T dis;
	};

	size_t size;
	std::vector<std::forward_list<T>> edges;
	std::vector<T> dis;
	std::vector<bool> vis;

	explicit DijkstraGraph(size_t n) : 
		size(n),
		edges(n + 1), 
		dis(n + 1, std::numeric_limits<T>::max()), 
		vis(n + 1, false) 
	{}

	// add_edges(...)
	// ...

	auto dijkstra(size_t s) -> void {
		std::priority_queue<Node, std::vector<Node>, std::greater<Node>> q; // subset of $T$
		dis[s] = 0;
		q.push({ s, dis[s] });
		while (!q.empty) {
			auto u = q.top().u;
			q.pop();
			if (vis[u]) continue;
			vis[u] = true;
			for (const auto& e : edges[u])
				if (dis[e.to] > dis[u] + e.dis) {
					dis[e.to] = dis[u] + e.dis;
					q.push({ e.to, dis[e.to] });
				}
		}
	}
};
```

æ—¶é—´å¤æ‚åº¦ $O(m\log{m})$ã€‚

## Jhonson å…¨æºæœ€çŸ­è·¯

### ç”¨é€”

ä»»æ„å›¾ ã® å…¨æºæœ€çŸ­è·¯

### å®ç°

ä¸ºè§£å†³è´Ÿæƒè¾¹ï¼Œå¯¹è¾¹é‡æ–°æ ‡æ³¨ï¼š

$$
w' = w + h_u - h_v
$$

è”æƒ³**åŠ¿èƒ½**è¿›è¡Œè®°å¿†ã€‚

å…¶ä¸­ $h_u$ æ˜¯é›¶åŠ¿èƒ½é¢(èŠ‚ç‚¹`0`) åˆ°èŠ‚ç‚¹ $u$ çš„æœ€çŸ­è·¯ã€‚ 

```cpp

```

- [ ] TODOï¼šå®Œæˆ [# P5905 ã€æ¨¡æ¿ã€‘å…¨æºæœ€çŸ­è·¯ï¼ˆJohnsonï¼‰](https://www.luogu.com.cn/problem/P5905) ğŸ“… 2024-12-06 


