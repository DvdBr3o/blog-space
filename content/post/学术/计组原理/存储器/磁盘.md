---
title: 磁盘
date: 2025-12-13T20:50:01+08:00
lastmod: 2025-12-18T11:01:12+08:00
tags:
  - 计组原理
  - 存储器
categories: 计组原理
publish: true
---

- 组成
	- 磁盘驱动器：驱动磁盘转动
	- 磁盘控制器：
	- 盘片 $\leftarrow$ 记录面 $\times n$ $\leftarrow$ 磁道 $\times n$ $\leftarrow$ 扇区 $\times n$
		- 磁头数 = 记录面数
		- 柱面数 = 磁道数 per 盘片
		- 扇区数 = 扇区 per 磁道
	- 磁盘高速缓存 disk cache：
- 性能指标
	- 记录密度：
		- 道密度 = 半径方向道数 / 单位长
		- 位密度 = bit / 单位长
		- 面密度 = 道密度 $\times$ 位密度
	- 磁盘容量
		- 非格式化容量 := 可利用磁化单元总数 
			= 记录面数 $\times$ 柱面数 $\times$ (磁化单元数 per 磁道)
		- 格式化容量 := 特定记录格式下可存信息总量
			= 记录面数 $\times$ 柱面数 $\times$ 扇区数 $\times$ 扇区容量
		- 格式化容量 $<$ 非格式化容量
	- 存取时间 = 寻道时间 + 旋转延迟时间 + 传输时间
		- 寻道时间 := 定位磁道 $=\frac{1}{2} \cdot\frac{1}{转速r}$
			$\frac{1}{2}$ for 平均值
		- 旋转延迟时间 := 定位扇区
		- 传输时间 := 传输数据 = $\frac{1r}{磁道扇区数 \times旋转速度}$
	- 数据传输速率 $D_{r}=r N$
		- $r$ := 转速 $r/s$
		- $N$ := 磁道容量 $B/r$
- 磁盘寻址
	- `[柱面(磁道)号:盘面(磁头)号:扇区号]`
	- 最小读写单位 = 扇区

>[!warning]
>1. **双面盘片** $\Rightarrow$ 磁头数 $\times2$

- RAID
	- 共用磁盘 $\to$ 增加存储速率
	- 同时存取 $\to$ 增加吞吐率
	- 冗余 $\to$ 提升可靠性
	- 数据校验 $\to$ 容错能力

| RAID  | 冗余  | 校验               | 条带化 | 优点                     | 缺点   |
| ----- | --- | ---------------- | --- | ---------------------- | ---- |
| RAID0 | 无   | 无                | 条带化 | 1. 扩大存储容量<br>2. 加快存储速率 | 无纠错  |
| RAID1 | 镜像  | 无                |     |                        | 容量减半 |
| RAID2 |     | 海明码              | 条带化 |                        |      |
| RAID3 | 块交叉 | 奇偶校验             |     |                        |      |
| RAID4 | 位交叉 | 奇偶校验 (in 1 disk) |     |                        |      |
| RAID5 |     | 奇偶校验 (分布在多 disk) |     |                        |      |
