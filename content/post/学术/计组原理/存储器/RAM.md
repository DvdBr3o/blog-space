---
title: RAM
date: 2025-11-18T17:13:23+08:00
lastmod: 2025-12-30T20:43:36+08:00
tags:
  - 计组原理
  - 存储器
categories: 计组原理
publish: true
---

## 存储位元

| **采用**   | SRAM     | DRAM     |
| -------- | -------- | -------- |
| **存储位元** | 六管静态 MOS | 动态单管 MOS |
| **原理**   | 触发器互补状态  | 电容充放电    |
| **破坏性**  | 非破坏性     | 破坏性      |
## 存储芯片

存储芯片 := 
- [存储位元](RAM.md#yuan)
- 外围电路
	- 地址译码
	- 控制电路: R/W, I/O

>[!info] 存储芯片层次
>1. 存储元件 1b
>2. 存储单元 nb
>3. 存储芯片 m $\times$ nb
>4. 存储器 M $\times$ Nb

### 地址译码

- 线选法 (SRAM)
- 片选法

## 存储器

### SRAM

1. 用 SRAM 实现の部件
	1. TLB
	2. Cache
	3. 分支预测器
	4. 控存 CM ([微程序控制器](../%E5%A4%84%E7%90%86%E5%99%A8/%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8.md))
	5. 暂存寄存器 SR
	6. 写缓存器 ([Cache > 写命中](./Cache.md#) 直写法)

### DRAM

#### 引脚

1. DRAM 的地址引脚都有**行列复用**，地址引脚数 = $\log_{2}$(地址数) / 2

#### 刷新问题

>[!warning] DRAM 的刷新单位
>DRAM 的刷新单位是**行** 
>
>存储器中存储芯片の刷新并行，只看单个芯片行数即可
>1. 单个存储芯片 m $\times$ nb
>2. m = $N_{\mathrm{row}}$ $\times$ $N_{\mathrm{col}}$
>3. 行数 = $N_{\mathrm{row}}$
>
>异步刷新时，已知单元最大刷新间隔 $T_{\mathrm{max}}$，则刷新信号周期 $$T=\frac{T_{\mathrm{max}}}{N_{\mathrm{row}}}$$

>[!warning] 其他刷新注意事项
>4. 刷新行为不依赖外部访问 (对 CPU 透明)
>5. 刷新无需选片

>[!note] 重要参数
>- 信息保存时间 $T_{ref}$
>- 刷新周期 $T_{rc}$ := 鉴别原信息所需允许的最大间隔 $<T_{ref}$
>- 刷新操作周期 $T_{roc}$ := 刷新一行时间 $\approx$ 读写周期
>- 刷新操作周期数 $N_{r}$ = 行数 / (刷新行数 per time)

| **刷新方式** | 集中刷新          | 分散刷新               | 异步刷新                                |
| -------- | ------------- | ------------------ | ----------------------------------- |
| 课内名称     | 集中式刷新         | 透明式刷新              | 分散式刷新                               |
| **工作方式** | 某个周期集中刷新，禁止读写 | 前半部分正常读写<br>后半部分刷新 | $t$ = 刷新周期 / 行数<br>每 $t$ 周期进行一次集中刷新 |
| **优点**   | 读写不受刷新操作影响    | 无死区                | 死区分散                                |
| **缺点**   | 死区            | 加长存储周期 $T_{S}$     | 死区                                  |
