---
title: 总线定时
date: 2025-12-04T11:23:34+08:00
lastmod: 2025-12-04T12:12:54+08:00
tags:
  - 计组原理
  - 总线
categories: 计组原理
publish: true
---

| **定时**   | **同步**                             | **异步**                   | **半同步**                | **分离式**                |
| -------- | ---------------------------------- | ------------------------ | ---------------------- | ---------------------- |
| **优点**   | 效率高<br>逻辑简单                        | 总线周期长度可变<br>实现速度差异大的组件交流 | 比异步逻辑简单                | 没有空闲等待                 |
| **缺点**   | 来不及校验<br>同步要求高                     | 速度慢<br>带宽窄<br>逻辑复杂       | 系统时钟频率不能太高             | 控制复杂<br>开销大            |
| **适用系统** | 1. 总线长度短<br>2. 存取时间接近<br>e.g. 片内总线 | nowadays 主流              | 1. 时钟频率低<br>2. 设备速度差异大 | 多主模块系统 <br>(多处理器/多DMA) |

## 同步定时

同一时钟频率同步

## 异步定时

| **异步定时方式** | **不互锁**       | **半互锁**       | **全互锁**                         |
| ---------- | ------------- | ------------- | ------------------------------- |
| **请求方**    | `for`/`until` | `await`       | `await`                         |
| **应答方**    | `for`/`until` | `for`/`until` | `await`<br>请求方 cancel 才能 cancel |

## 半同步定时

在[同步定时](%E6%80%BB%E7%BA%BF%E5%AE%9A%E6%97%B6.md#)基础上增加 `ready/wait` 线
总线周期先采样 `ready/wait`，有效再从数据线取数据

## 分离式定时

分为两个子周期
1. 【请求】寻址子周期
2. 【应答】数据传输子周期

同一对设备间的两个子周期可以断开，期间释放控制权给其他设备对